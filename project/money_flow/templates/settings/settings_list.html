{% extends 'base.html' %}
{% load static %}

{% block title %} –ù–∞—Å—Ç—Ä–æ–π–∫–∏ {% endblock title %}

{% block content %}
<h2>–°—Ç–∞—Ç—É—Å—ã</h2>
<ul>
    {% for status in statuses %}
        <li>
            {{ status.name }}
            <a href="{% url 'status_update' status.id %}" class="btn btn-sm btn-outline-primary">‚úèÔ∏è</a>
            <a href="{% url 'status_delete' status.id %}" class="btn btn-sm btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deleteModal{{ status.id }}">üóëÔ∏è</a>

            <div class="modal fade" id="deleteModal{{ status.id }}" tabindex="-1" aria-labelledby="deleteModalLabel{{ status.id }}" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <form method="post" action="{% url 'status_delete' status.id %}">
                      {% csrf_token %}
                      <div class="modal-header">
                        <h5 class="modal-title" id="deleteModalLabel{{ status.id }}">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
                      </div>
                      <div class="modal-body">
                        –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ <strong>"{{ status.name }}"</strong>?
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-danger">–£–¥–∞–ª–∏—Ç—å</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
        </li>
    {% endfor %}
</ul>
<a href="{% url 'status_create' %}">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å</a>

<hr>

<h2>–¢–∏–ø—ã</h2>
<ul>
    {% for t in types %}
        <li>
            {{ t.name }}
            <a href="{% url 'type_update' t.id %}" class="btn btn-sm btn-outline-primary">‚úèÔ∏è</a>
            <a href="{% url 'type_delete' t.id %}" class="btn btn-sm btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deleteModal{{ t.id }}">üóëÔ∏è</a>

            <div class="modal fade" id="deleteModal{{ t.id }}" tabindex="-1" aria-labelledby="deleteModalLabel{{ t.id }}" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <form method="post" action="{% url 'type_delete' t.id %}">
                      {% csrf_token %}
                      <div class="modal-header">
                        <h5 class="modal-title" id="deleteModalLabel{{ t.id }}">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
                      </div>
                      <div class="modal-body">
                        –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ <strong>"{{ t.name }}"</strong>?
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-danger">–£–¥–∞–ª–∏—Ç—å</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
        </li>
    {% endfor %}
</ul>
<a href="{% url 'type_create' %}">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–∏–ø</a>

<hr>

<h2>–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏</h2>
<ul>
    {% for category in categories %}
        {% if not category.parent %}
            <li>
                <strong>{{ category.name }}</strong> (–¢–∏–ø: {{ category.type.name }})
                <a href="{% url 'category_update' category.id %}" class="btn btn-sm btn-outline-primary">‚úèÔ∏è</a>
                <a href="{% url 'category_delete' category.id %}" class="btn btn-sm btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deleteModal{{ category.id }}">üóëÔ∏è</a>

            <div class="modal fade" id="deleteModal{{ category.id }}" tabindex="-1" aria-labelledby="deleteModalLabel{{ category.id }}" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <form method="post" action="{% url 'category_delete' category.id %}">
                      {% csrf_token %}
                      <div class="modal-header">
                        <h5 class="modal-title" id="deleteModalLabel{{ category.id }}">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
                      </div>
                      <div class="modal-body">
                        –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ <strong>"{{ category.name }}"</strong>?
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-danger">–£–¥–∞–ª–∏—Ç—å</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
                <ul>
                    {% for sub in category.subcategory.all %}
                        <li>
                            {{ sub.name }} (–¢–∏–ø: {{ sub.type.name }})
                            <a href="{% url 'category_update' sub.id %}" class="btn btn-sm btn-outline-primary">‚úèÔ∏è</a>
                            <a href="{% url 'category_delete' sub.id %}" class="btn btn-sm btn-outline-danger" data-bs-toggle="modal" data-bs-target="#deleteModal{{ sub.id }}">üóëÔ∏è</a>

            <div class="modal fade" id="deleteModal{{ sub.id }}" tabindex="-1" aria-labelledby="deleteModalLabel{{ sub.id }}" aria-hidden="true">
                <div class="modal-dialog">
                  <div class="modal-content">
                    <form method="post" action="{% url 'category_delete' sub.id %}">
                      {% csrf_token %}
                      <div class="modal-header">
                        <h5 class="modal-title" id="deleteModalLabel{{ sub.id }}">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="–ó–∞–∫—Ä—ã—Ç—å"></button>
                      </div>
                      <div class="modal-body">
                        –í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ <strong>"{{ sub.name }}"</strong>?
                      </div>
                      <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">–û—Ç–º–µ–Ω–∞</button>
                        <button type="submit" class="btn btn-danger">–£–¥–∞–ª–∏—Ç—å</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
                        </li>
                    {% endfor %}
                </ul>
            </li>
        {% endif %}
    {% endfor %}
</ul>
<a href="{% url 'category_create' %}">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é</a>
{% endblock %}
